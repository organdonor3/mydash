<!DOCTYPE HTML>
<html>
	<head>
		
		  <meta name="description" content="MCSD User Dashboard">
      <meta name="keywords" content="Dashboard">
      <meta name="author" content="MCSD Dev">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <meta http-equiv="content-type" content="text/html; charset=utf-8">
      <meta http-equiv="content-language" content="en-us">
      <meta http-equiv="cleartype" content="on">
      
		<title>MyDash</title>

		  <!-- Bootstrap -->
      <link href="http://ajax.aspnetcdn.com/ajax/bootstrap/3.0.3/css/bootstrap.min.css" rel="stylesheet">
      <link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet">
      <link href="css/bootstrap-theme-dash.css" rel="stylesheet">
      
      <!-- Full Calendar -->
      <link href='css/fullcalendar.css' rel='stylesheet' />
			<link href='css/fullcalendar.print.css' rel='stylesheet' media='print' />
			
			<!-- Datatables -->
			<link href='http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.4/css/jquery.dataTables.css'>

			<!-- Gridster -->
			<link href='css/jquery.gridster.css' rel='stylesheet' />
      
      <!-- Google Web Fonts -->
      <link href='http://fonts.googleapis.com/css?family=Monda' rel='stylesheet' type='text/css'>
      
      <!-- Dash Styles -->
      <link href="css/dash.css" rel="stylesheet">
      <link href="css/clock.css" rel="stylesheet">
      
	</head>
	<body>
		
		<!-- NAVIGATION MENU -->

    <div class="navbar-nav navbar-inverse navbar-fixed-top">
        <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="index.html"><i class="icon icon-user"></i> MyDash</a>
        </div> 
          <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li><a href="index.html"><i class="fa fa-user fa-lg"></i> User Info</a></li>
              <li><a href="manager.html"><i class="fa fa-bar-chart-o fa-lg"></i> Reporting</a></li>
              <li><a href="calendar.html"><i class="fa fa-calendar fa-lg fa-fw"></i> Calendar</a></li>

            </ul>
          </div><!--/.nav-collapse -->
        </div>
    </div>

    <div class="container">
    	
    	
    	<div class="gridster">
		    <ul></ul>
		</div>

	</div><!-- /container -->


	  <!-- HOSTED -->
 		<script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.10.2.min.js"></script>
 		<script src="http://ajax.aspnetcdn.com/ajax/jquery.ui/1.10.3/jquery-ui.min.js"></script>
 		<script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.11.1/jquery.validate.min.js"</script>
		<script src="http://ajax.aspnetcdn.com/ajax/bootstrap/3.0.3/bootstrap.min.js"></script>
		
		<!-- Highchart -->
		<script type="text/javascript" src="http://code.highcharts.com/highcharts.js"></script>
		<script type="text/javascript" src="http://code.highcharts.com/modules/exporting.js"></script>
    
		<!-- Full Calendar -->
    <script src='js/fullcalendar.min.js'></script>
		<script src='js/gcal.js'></script>
			
		<!-- Gridster -->
    <script src='js/jquery.gridster.min.js'></script>
    
    <!-- DataTables -->
		<script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.4/jquery.dataTables.min.js"></script>
		
		<!-- Moment.js -->
		<script src="http://cdnjs.cloudflare.com/ajax/libs/moment.js/2.0.0/moment.min.js"></script>
	
	<!-- LOCAL
	  <script type="text/javascript" src="js/jquery.min.js"></script>
		<script type="text/javascript" src="js/highcharts.js"></script>
		<script type="text/javascript" src="js/modules/exporting.js"></script>
		
	-->
		
	<script type="text/javascript">
	
	
    var gridster;
    
    var setGrid = function(){
    	
    	
    		
    	//gridster.remove_widget( $('.gridster li').eq(3) );
    	
    	gridster = $(".gridster ul").gridster({
	        widget_margins: [5, 5],
	        widget_base_dimensions: [120, 120],
	        draggable: {
	        	stop: function(e, ui, $widget) {
            	var s = this.serialize();
            	//alert(JSON.stringify(s));
	          }
	        },
	        resize: {
	        	enabled: true,
	        	stop: function(e, ui, $widget) {
	        		$widget.find('.refresh-widget').click();
	            //alert('STOP position: ' + ui.position.top +' '+ ui.position.left);
	          }
	        }
	    }).data('gridster');
	    
	    /*
    	gridster.$el
        .on('mouseenter', '> li', function() {
            gridster.resize_widget($(this), 3, 3);
        })
        .on('mouseleave', '> li', function() {
            gridster.resize_widget($(this), 1, 1);
        });
			*/
			
      var widgets = [
      		["widgets/user.html", 1, 1, 1, 1],
      		["widgets/local.html", 2, 1, 3, 1],
      		["widgets/template.html", 1, 1, 2, 1],
      		["widgets/calendar.html", 4, 4, 1, 2],
          ["widgets/testchart.html", 3, 2, 5, 1],
          ["widgets/testchart3.html", 3, 2, 5,3],
          ["widgets/table.html", 5, 4, 1, 6]
      ];
      $.each(widgets, function(i, widget){
      	$.get( widget[0], function( data ) {
	      	gridster.add_widget.apply(gridster, [data, widget[1], widget[2], widget[3], widget[4]]);
				  //alert( "Data Loaded: " + data );
				});
      });
      
      
    };
    
    var resizeTime;
		$( window ).resize(function() {
			clearTimeout(resizeTime);
  		resizeTime = setTimeout(function() {
  				/* Remove all widgets and reset them 
		    	$(".gridster ul li").each(function( index ) {
					  gridster.remove_widget(this);
					});
	        setGrid();
	        */
	    }, 200);
		});



    
    $(document).ready(function(){
    	
    	  setGrid();
    	  
				
    });
    

		</script>
		
		
	</body>
</html>
